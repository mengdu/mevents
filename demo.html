<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>demo</title>
  <script type="text/javascript" src="js/mevents.js"></script>
  <script>
    var mevent=new Mevents;

    mevent.on("test",function(){
      console.log(arguments);
      console.log("这是test事件。");
    });
    mevent.once("once",function(){
      console.log("这是once监听事件。",arguments);
    });
    mevent.emit('test',{msg:'this is a test data.',bool:true});
    mevent.emit('test');

    mevent.emit('once',{msg:'this is a test data.',bool:false});
    mevent.emit('once');


    //Mevents.prototype.delay = function(){return this}


    var util = {
      inherits:function(ctor, superCtor){
        if (ctor === undefined || ctor === null)
        throw new TypeError('The constructor to "inherits" must not be ' +
                            'null or undefined');
        if (superCtor === undefined || superCtor === null)
        throw new TypeError('The super constructor to "inherits" must not ' +
                            'be null or undefined');
        if (superCtor.prototype === undefined)
        throw new TypeError('The super constructor to "inherits" must ' +
                            'have a prototype');
        ctor.prototype.__proto__=superCtor.prototype;
      }
    }

    //设计例子
    function ajax(){
      Mevents.call(this);//继承
    }
    //原型继承
    //也可以这样,es6支持
    //Object.setPrototypeOf(ajax.prototype,Mevents.prototype);
    //ajax.prototype.__proto__=Mevents.prototype;

    util.inherits(ajax,Mevents);

    ajax.prototype.open=function(url,method,bool){

    }

    

  </script>
</head>
<body>
请在控制台查看效果...
</body>
</html>
